# User Interaction Flows

This document visualizes the primary interaction flows for each user role within the RogueLearn platform using Mermaid diagrams.

## Student (Player) Flow

```mermaid
graph TD
    subgraph "Onboarding & Core Loop"
        A[Start] --> B{New User?};
        B -- Yes --> C[Create Account & Onboard];
        B -- No --> F[View Dashboard / Character Sheet];
        C --> D[Select Class & Route];
        D --> E[Upload Syllabus];
        E --> F;
        F --> G{Engage with Quests};
        G --> H[View Main Quest Line];
        H --> I[Complete Tasks];
        I -- Triggers --> J[Face 'Boss Fights'];
        F --> K{Manage 'Arsenal'};
        K --> L[Create/Organize Notes];
    end

    subgraph "Social & Community"
        F --> M{Social Interaction};
        M --> N[Create/Join Party];
        M --> O[View Leaderboards];
        M --> P{Participate in Events};
        P --> Q[Join PvP Skill Challenge];
        P --> R[Participate in Guild-vs-Guild Event];
        F --> S{Manage Profile};
        S --> T[View/Display Achievements & Badges];
    end

    subgraph "Marketplace"
        F --> U{Marketplace};
        U --> V[Browse/Search for Study Materials];
        V --> W[Acquire Materials with In-Game Currency];
        U --> X[Upload Own Materials to Sell];
    end

    subgraph "System & AI Interaction"
        E -- Processed by --> AI1[AI Engine];
        AI1 --> H;
        AI1 -- Influences --> F;
        J -- Generated by --> AI1;
        L -- Scanned by --> AI2[Proactive AI Companion];
        AI2 --> Y[Suggests Study Aids];
    end
```

## Guild Master (Lecturer or Player) Flow

```mermaid
graph TD
    subgraph "Guild & Course Management"
        A[Start] --> B[Create/Manage Guild];
        B --> C[Upload Course Materials];
        B --> D{Monitor Guild Members};
        D --> E[View Anonymized Progress Dashboard];
        E --> F[Identify Struggling Topics];
    end

    subgraph "Custom Content Creation"
        B --> G{Create Custom Content};
        G -- AI-Assisted --> H[Draft Side Quests];
        H --> I[Review, Edit & Assign Quests];
        G --> J[Design Custom Skill Tree Overlays];
        G --> K[Create Custom 'Boss Fights'];
    end

    subgraph "Community & Events"
        B --> L{Engage Community};
        L --> M[Initiate Guild-vs-Guild Battle];
        L --> N[Assign Guides to Students];
    end
```

## Tutor (The Guide) Flow

```mermaid
graph TD
    subgraph "Student Support"
        A[Start] --> B{Assigned to Student by Guild Master};
        B -- Yes --> C[View Scoped Student Dashboard];
        C --> D[Review Quest Progress & Skill Tree];
        C --> E[Read Student's 'Arsenal' Notes];
        C --> F[View Burnout Forecast];
    end

    subgraph "Mentorship Actions"
        E --> G{Provide Support};
        G --> H[Create & Assign Training Drills];
        G --> I[Send Mentor Reflections];
        G --> J[Leave Inline Feedback on Notes];
    end
```

## Party Leader Flow

```mermaid
graph TD
    A[Student decides to create a Party] --> B[Becomes Party Leader];
    B --> C[Set Party Rules & Permissions];
    B --> D{Invite Members};
    D --> E[Invite Friends Directly];
    D --> F[Browse and Invite Strangers];
    C --> G[Manage Party];
    G --> H[Use Shared Party Stash];
```

## System Admin (The Game Master) Flow

```mermaid
graph TD
    A[Start] --> B[Access Game Master Dashboard];

    subgraph "System Analytics & Insights"
        B --> C{View Analytics};
        C --> D[Feature Usage Dashboard];
        D --> D1[Most Used Quests];
        D --> D2[Marketplace Trends];
        C --> E[User Cohort Analysis];
        E --> E1[Class & Route Popularity];
        E --> E2[Completion Rates by Cohort];
        C --> F[Platform Health Monitoring];
    end

    subgraph "Platform Management"
        B --> G{Manage Global Settings};
        G --> H[Set Bonus XP Days];
        G --> I[Launch Platform-Wide Challenges];
    end

    subgraph "Community Moderation"
        B --> J{Review Moderation Queue};
        J --> K[Review Reported Content/Users];
        K --> L{Take Action};
        L --> M[Mute/Ban User];
        L --> N[Delete Content];
    end
```