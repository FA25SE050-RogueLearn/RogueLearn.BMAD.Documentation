# Story 4.3: Scaffold Frontend for Party Management (Create, Invite, Join, Leave)

## Status

Draft

## Ownership

* **Primary Owner:** Duong (Frontend)
* **Secondary Owner:** Minh Anh / An (Social Service API alignment)

## Target Deadline

Thursday, 30/10/2025

## Story

**As a** Player,
**I want** to create and manage Parties through the UI (create, invite via code, join, leave, view members),
**so that** I can collaborate with friends in party-based activities.

## Acceptance Criteria

1. Pages created under `/social/party/`:
   - `/social/party/create`: Form to create a new party (name only in MVP).
   - `/social/party/me`: Shows my current party (if any), members, my role, invite code.
   - `/social/party/join`: Simple form to join by invite code.
2. UI components:
   - PartyCreateForm, PartyOverview, InviteCodeCard, MemberList with role badges, JoinByCodeForm.
3. Actions (mock first, then wire to APIs from Story 4.1):
   - Create Party (POST /api/social/parties)
   - Rotate Invite Code (POST /api/social/parties/{partyId}/invite)
   - Join by Code (POST /api/social/parties/join)
   - Leave Party (POST /api/social/parties/{partyId}/leave)
4. Data: Start with mock JSON files (`src/mocks/party.json`) matching Social Service API contracts, then add API integration toggle.
5. Navigation: Add entry to social menu (Party) and display role-specific actions (Leader-only actions gated in UI).
6. Tests: Basic component tests verifying rendering and form validation with mock data.

## Tasks / Subtasks

- [ ] Task 1: Routing and Pages (AC: #1, #5)
  - [ ] Create Next.js routes under `/social/party/` and add navigation entry.
- [ ] Task 2: Build UI Components (AC: #2)
  - [ ] Implement PartyCreateForm, PartyOverview, InviteCodeCard, MemberList, JoinByCodeForm using Shadcn/UI and Tailwind.
- [ ] Task 3: Mock Data and API Toggle (AC: #4)
  - [ ] Create `src/mocks/party.json` and a simple client util that can switch between mock and live API.
- [ ] Task 4: Wire Up API Calls (AC: #3)
  - [ ] Implement client functions for create, rotate, join, leave; handle auth via existing auth helper.
- [ ] Task 5: Component Tests (AC: #6)
  - [ ] Jest/RTL tests for core components rendering and basic interactions.