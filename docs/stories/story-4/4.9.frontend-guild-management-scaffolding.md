# Story 4.9: Scaffold Frontend for Guild Management

## Status

Draft

## Ownership

* **Primary Owner:** Duong (Frontend)
* **Secondary Owner:** Minh Anh / An (Social Service API alignment)

## Target Deadline

Thursday, 30/10/2025

## Story

**As a** Guild Master,
**I want** to manage my guild through the UI (create, roles, invites, member list, materials, announcements),
**so that** I can run my guild effectively without manual API calls.

## Acceptance Criteria

1. Pages under `/social/guild/`:
   - `/social/guild/create`: Create guild form.
   - `/social/guild/{guildId}`: Overview (details, members, roles, invite code).
   - `/social/guild/{guildId}/members`: Member management (promote/demote, remove).
   - `/social/guild/{guildId}/invites`: Invite management (rotate invite, list pending invites).
   - `/social/guild/{guildId}/materials` and `/social/guild/{guildId}/announcements` (from Story 4.7).
2. Components:
   - GuildCreateForm, GuildOverview, MemberListWithRoleActions, InviteCodeManager, PendingInvitesList.
3. Actions (mock first, then wire to APIs from Story 4.2 and 4.7):
   - Create guild, get guild details, manage roles, remove members, rotate invite, list invites.
4. Role-based UI gates:
   - Only GuildMaster sees role management and removal actions; Officer sees limited actions.
5. Tests: Component tests ensure role gating displays correct actions and forms validate input.

## Tasks / Subtasks

- [ ] Task 1: Routing & Pages (AC: #1)
  - [ ] Create Next.js routes and link in social navigation.
- [ ] Task 2: Components (AC: #2)
  - [ ] Implement GuildCreateForm, GuildOverview, MemberListWithRoleActions, InviteCodeManager, PendingInvitesList.
- [ ] Task 3: Mock Data & API Toggle (AC: #3)
  - [ ] Provide `src/mocks/guild.json` and a client util to switch between mock and live API.
- [ ] Task 4: Wire Up API Calls (AC: #3)
  - [ ] Integrate endpoints from Story 4.2 and 4.7 with auth.
- [ ] Task 5: Tests (AC: #5)
  - [ ] Jest/RTL tests for role gating and core interactions.