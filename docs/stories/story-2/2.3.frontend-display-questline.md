# docs/stories/2.3.frontend-display-questline.md
# **Story 2.3: Frontend - Display Initial QuestLine**

## Status

Move to the next sprint

## Ownership

*   **Primary Owner:** Duong (Frontend)
*   **Rationale:** This is a pure frontend task focused on UI implementation and data consumption, which is Duong's specialty. He can work in parallel by mocking the API from Story 2.2.

## Story

**As a** Player,
**I want** to see my main QuestLine displayed on my dashboard,
**so that** I can understand my learning path and see my upcoming quests.

## Acceptance Criteria

1.  A new React component, `QuestLineDisplay`, is created in the frontend application.
2.  This component is added to the main user dashboard page (`/dashboard`).
3.  When the component loads, it makes an authenticated API call to the `QuestsService` to fetch the user's active `QuestLine` and its associated `Quests`.
4.  The quests are displayed in a simple, ordered list, showing at least the quest title and status (e.g., "Not Started").
5.  A loading state (e.g., skeleton loader) is displayed while the data is being fetched.
6.  An empty state with a helpful message is displayed if the user has no `QuestLine` generated yet.
7.  The component is styled using Shadcn/UI and Tailwind CSS to match the visual design system.

## Tasks / Subtasks

- [ ] **Task 1: Create `QuestLineDisplay` Component** (AC: #1, #7)
    - [ ] Create the file `src/components/features/quests/QuestLineDisplay.tsx`.
    - [ ] Use Shadcn/UI `Card` and `List` components for the basic structure.
- [ ] **Task 2: Implement Data Fetching** (AC: #3, #5, #6)
    - [ ] Use React Query (`@tanstack/react-query`) to fetch data from the `QuestsService`.
    - [ ] The query should call an API endpoint like `GET /api/quest-lines/my-active-line`.
    - [ ] Implement proper loading and error states for the query.
- [ ] **Task 3: Render Quests** (AC: #4)
    - [ ] Map over the fetched quest data and render each quest's title and status.
- [ ] **Task 4: Integrate into Dashboard** (AC: #2)
    - [ ] Import and use the `QuestLineDisplay` component in the main dashboard page (`/dashboard/page.tsx`).
- [ ] **Task 5: Write Tests**
    - [ ] Write component tests for `QuestLineDisplay` using Jest and React Testing Library, covering the loading, data, and empty states.

## Dev Notes

### **Driving Requirement**
This story realizes the UI for **FR10 (User Dashboard)** and begins to visualize the output of **FR5 (AI-powered main quest line)**, providing the first major piece of user-facing value.

*Source: `docs/prd/requirements.md`*

### **Architectural Guidance**
*   **Repository**: This work is in the **`roguelearn-web`** Next.js repository.
*   **API Client**: Use the shared `apiClient` instance (configured with Axios and Supabase interceptors) to make the authenticated request to the backend.
*   **State Management**: Server state (like the quest line data) should be managed exclusively with React Query.
*   **UI Components**: All UI must be built using **Shadcn/UI** components.

*Source: `docs/fullstack-architecture/frontend-architecture.md`*

### **API Dependency**
This story depends on the API for fetching a user's quest line. This API may not exist yet. You should **mock the API response** based on the data models in `docs/fullstack-architecture/data-models.md` to proceed with UI development in parallel.

**Mock Response Example:**
```json
{
  "questLineId": "uuid-goes-here",
  "title": "Software Engineering K18A",
  "quests": [
    { "questId": "uuid-1", "title": "Programming Fundamentals", "status": "Completed" },
    { "questId": "uuid-2", "title": "Object-Oriented Programming", "status": "InProgress" },
    { "questId": "uuid-3", "title": "Data Structures & Algorithms", "status": "NotStarted" }
  ]
}
```

## Change Log

| Date | Version | Description | Author |
| :--- | :--- | :--- | :--- |
| [Current Date] | 1.0 | Initial story draft. | BMad Orchestrator |

## Dev Agent Record

### Agent Model Used
_TBD by Dev Agent_

### Debug Log References
_TBD by Dev Agent_

### Completion Notes List
_TBD by Dev Agent_

### File List
_TBD by Dev Agent_

## QA Results
_TBD by QA Agent_