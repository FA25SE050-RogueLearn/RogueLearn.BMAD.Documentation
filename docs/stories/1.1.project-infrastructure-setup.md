<!-- .docs/stories/1.1.project-infrastructure-setup.md -->
# **Story 1.1: project-infrastructure-setup**

## Status

Draft

## Story

**As a** Developer,
**I want** to establish the foundational project infrastructure with proper CI/CD pipelines,
**so that** we have a reliable development and deployment foundation.

## Acceptance Criteria

1. Git repositories are created for the frontend and all backend microservices as defined in the architecture.
2. Basic "Hello World" or starter applications for both the Next.js frontend and .NET backend services are created and locally runnable.
3. A basic CI/CD pipeline is configured in GitHub Actions that triggers on commits to the `main` branch, runs tests, and builds the applications.
4. A basic structure for environment-specific configuration management (e.g., `.env` files for dev, staging, prod) is in place for all applications.
5. Docker containerization is set up for both the frontend and backend services, allowing them to be built and run as containers.
6. Basic logging infrastructure is configured in the backend services to output logs to the console.

## Tasks / Subtasks

- [ ] **Task 1: Initialize Git Repositories** (AC: #1)
    - [ ] Create a new Git repository for `roguelearn-web`.
    - [ ] Create a new Git repository for `roguelearn-auth-service`.
    - [ ] Create a new Git repository for `roguelearn-quests-service`.
    - [ ] Create a new Git repository for `roguelearn-social-service`.
    - [ ] Create a new Git repository for `roguelearn-code-battle-service`.
    - [ ] Create a new Git repository for `roguelearn-shared-types`.
    - [ ] Create a new Git repository for `roguelearn-unity-games`.
- [ ] **Task 2: Scaffold "Hello World" Applications** (AC: #2)
    - [ ] In `roguelearn-web`, initialize a new Next.js 14.2.x application with TypeScript.
    - [ ] In `roguelearn-auth-service`, initialize a new .NET 8 Web API project.
    - [ ] In `roguelearn-quests-service`, initialize a new .NET 8 Web API project.
    - [ ] In `roguelearn-social-service`, initialize a new .NET 8 Web API project.
    - [ ] In `roguelearn-code-battle-service`, initialize a new Go application.
    - [ ] In `roguelearn-shared-types`, initialize a new private NPM package.
    - [ ] In `roguelearn-unity-games`, initialize a new Unity 2022.3 LTS project.
    - [ ] Ensure all applications can be run locally via CLI commands.
- [ ] **Task 3: Implement Dockerization** (AC: #5)
    - [ ] Create a `Dockerfile` for the `roguelearn-web` Next.js application.
    - [ ] Create a `Dockerfile` for each of the .NET backend services.
    - [ ] Create a `Dockerfile` for the Go `code-battle-service`.
    - [ ] Ensure all Docker images can be built successfully.
- [ ] **Task 4: Configure CI/CD Pipeline** (AC: #3)
    - [ ] For each repository, create a `.github/workflows/ci.yml` file.
    - [ ] Configure the GitHub Actions workflow to trigger on pushes to the `main` branch.
    - [ ] Add steps to the workflow to install dependencies, run linters, execute tests, and build the Docker image.
- [ ] **Task 5: Setup Environment Configuration** (AC: #4)
    - [ ] In `roguelearn-web`, create a `.env.example` file for necessary environment variables.
    - [ ] In each backend service, configure `appsettings.Development.json` and `appsettings.Production.json` placeholders.
    - [ ] Ensure applications correctly load configuration based on the environment.
- [ ] **Task 6: Configure Basic Logging** (AC: #6)
    - [ ] In the .NET services, ensure the default console logger is configured to output logs during development.

## Dev Notes

### **Repository Strategy**
The project follows a **Multi-Repo Strategy**. The following repositories must be created as the first step:
- `roguelearn-web`: Next.js frontend application.
- `roguelearn-unity-games`: Unity project for the "Boss Fight" game client.
- `roguelearn-auth-service`: .NET microservice for user identity.
- `roguelearn-quests-service`: .NET microservice for quests and game logic.
- `roguelearn-social-service`: .NET microservice for social features.
- `roguelearn-code-battle-service`: Go microservice for code execution.
- `roguelearn-shared-types`: Private NPM package for shared TypeScript interfaces.

### **Technology Stack**
- **Frontend:** Next.js `14.2.x`, TypeScript `5.4.x`
- **Backend (.NET):** .NET `8.0`, C# `12`
- **Backend (Go):** Go `1.22.x`
- **Game Engine:** Unity `2022.3 LTS`
- **CI/CD:** GitHub Actions
- **Containerization:** Docker

### **Testing Frameworks**
- **Frontend:** Jest & React Testing Library
- **Backend (.NET):** xUnit & Moq

### **Deployment Targets**
- **Frontend:** Vercel
- **Backend:** Azure Container Apps

### **Initial Setup Guidance**
- For the Next.js app, use `create-next-app`.
- For the .NET services, use `dotnet new webapi`.
- For the Go service, set up a standard Go module structure.
- For the shared types package, initialize a standard `package.json`.

## Change Log

| Date          | Version | Description        | Author     |
| :------------ | :------ | :----------------- | :--------- |
| [Current Date]| 1.0     | Initial story draft| Bob, SM    |

## Dev Agent Record

### Agent Model Used
_TBD by Dev Agent_

### Debug Log References
_TBD by Dev Agent_

### Completion Notes List
_TBD by Dev Agent_

### File List
_TBD by Dev Agent_

## QA Results
_TBD by QA Agent_