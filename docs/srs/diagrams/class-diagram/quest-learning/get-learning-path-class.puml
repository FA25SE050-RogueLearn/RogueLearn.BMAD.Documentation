classDiagram
    class LearningPathsController {
        + GetMyLearningPath(cancellationToken)
    }

    class GetMyLearningPathQuery {
        - AuthUserId: Guid
        --
        + getter()
        + setter()
    }

    class GetMyLearningPathQueryHandler {
        + Handle(request, cancellationToken)
    }

    class LearningPathDto {
        - Id: Guid
        - Name: string
        - Chapters: List<QuestChapterDto>
        - CompletionPercentage: double
        --
        + getter()
        + setter()
    }

    class IUserProfileRepository {
        <<interface>>
        + GetByAuthIdAsync(authId)
    }

    class ISubjectRepository {
        <<interface>>
        + GetByIdsAsync(ids)
    }

    class IQuestRepository {
        <<interface>>
        + GetAllAsync()
    }

    class IStudentSemesterSubjectRepository {
        <<interface>>
        + FindAsync(predicate)
    }

    class IUserQuestAttemptRepository {
        <<interface>>
        + FindAsync(predicate)
    }

    %% Relationships
    LearningPathsController ..> GetMyLearningPathQuery : Creates
    LearningPathsController ..> GetMyLearningPathQueryHandler : Sends

    GetMyLearningPathQueryHandler ..> GetMyLearningPathQuery : Uses
    GetMyLearningPathQueryHandler ..> LearningPathDto : Returns
    
    GetMyLearningPathQueryHandler --> IUserProfileRepository
    GetMyLearningPathQueryHandler --> ISubjectRepository
    GetMyLearningPathQueryHandler --> IQuestRepository
    GetMyLearningPathQueryHandler --> IStudentSemesterSubjectRepository
    GetMyLearningPathQueryHandler --> IUserQuestAttemptRepository

    %% Apply style
    classDef blueFill fill:#198CC4,stroke:#333,stroke-width:1px,color:white;
    class LearningPathsController, GetMyLearningPathQuery, GetMyLearningPathQueryHandler, LearningPathDto, IUserProfileRepository, ISubjectRepository, IQuestRepository, IStudentSemesterSubjectRepository, IUserQuestAttemptRepository blueFill