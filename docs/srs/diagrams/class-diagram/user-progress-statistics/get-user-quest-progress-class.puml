' get-user-quest-progress-class.puml
@startuml
skinparam linetype ortho
skinparam ranksep 50
skinparam nodesep 50
skinparam classAttributeIconSize 0
hide empty members

package "API Layer" {
    class UserQuestProgressController {
        +GetUserQuestProgress(questId)
    }
}

package "Application Layer" {
    class GetUserProgressForQuestQuery {
        +AuthUserId
        +QuestId
    }

    class GetUserProgressForQuestQueryHandler {
        +Handle()
    }
}

package "Domain & Infrastructure Layer" {
    interface IUserQuestAttemptRepository
    interface IUserQuestStepProgressRepository
    
    class GetUserProgressForQuestResponse {
        +QuestStatus
        +StepStatuses
    }
}

' Relationships
UserQuestProgressController ..> GetUserProgressForQuestQuery : Creates
UserQuestProgressController ..> GetUserProgressForQuestQueryHandler : Sends

GetUserProgressForQuestQueryHandler ..> GetUserProgressForQuestQuery : Uses
GetUserProgressForQuestQueryHandler --> IUserQuestAttemptRepository
GetUserProgressForQuestQueryHandler --> IUserQuestStepProgressRepository
GetUserProgressForQuestQueryHandler ..> GetUserProgressForQuestResponse : Returns
@enduml