@startuml
actor Admin
participant ":AdminSkillsController" as Controller
participant ":IMediator" as Med
participant ":DeleteSkill\nCommandHandler" as Handler
participant ":ISkillRepository" as Repo
database ":Database" as DB

Admin -> Controller : DELETE /api/admin/skills/{id}
activate Controller

Controller -> Med : Send(DeleteSkillCommand)
activate Med

Med -> Handler : Handle(command)
activate Handler

' 1. Check Existence
Handler -> Repo : ExistsAsync(Id)
activate Repo
Repo -> DB : SELECT 1...
DB --> Repo : Exists?
deactivate Repo

alt Not Found
    Handler --> Med : Throw NotFoundException
else Found
    ' 2. Delete
    Handler -> Repo : DeleteAsync(Id)
    activate Repo
    Repo -> DB : DELETE FROM skills...
    DB --> Repo : Success
    deactivate Repo
    
    Handler --> Med : Unit.Value
end

deactivate Handler
Med --> Controller : Success
deactivate Med

Controller --> Admin : 204 No Content
deactivate Controller
@enduml