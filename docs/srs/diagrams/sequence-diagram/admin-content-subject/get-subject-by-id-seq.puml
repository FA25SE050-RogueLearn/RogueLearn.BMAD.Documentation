@startuml
actor Admin
participant AdminManagementUI as UI
participant ":SubjectsController" as Controller
participant ":IMediator" as Med
participant ":GetSubjectByIdHandler" as Handler
participant ":ISubjectRepository" as IRepo
participant ":SubjectRepository" as Repo
database ":Database" as DB

Admin -> UI : Click "View Subject Details"
activate UI

UI -> Controller : GET /api/admin/subjects/{id}
activate Controller

Controller -> Med : Send(GetSubjectByIdQuery)
activate Med

Med -> Handler : Handle(query)
activate Handler

Handler -> IRepo : GetByIdAsync(Id)
activate IRepo
IRepo -> Repo : GetByIdAsync(Id)
activate Repo
Repo -> DB : SELECT * FROM subjects...
activate DB
DB --> Repo : Subject?
deactivate DB
Repo --> IRepo : Subject?
deactivate Repo
IRepo --> Handler : Subject?
deactivate IRepo

alt Not Found
    Handler --> Med : null
    Med --> Controller : 404 Not Found
    Controller --> UI : 404 Not Found
    UI --> Admin : Show "Subject Not Found" Error
else Found
    Handler -> Handler : Map to DTO
    Handler --> Med : SubjectDto
    Med --> Controller : 200 OK
    Controller --> UI : 200 OK (Subject Details)
    UI -> UI : Render Subject Details
    UI --> Admin : Display Subject Information
end

deactivate Handler
deactivate Med
deactivate Controller
deactivate UI
@enduml