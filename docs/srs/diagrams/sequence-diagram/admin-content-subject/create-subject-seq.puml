@startuml
actor Admin
participant ":SubjectsController" as Controller
participant ":IMediator" as Med
participant ":CreateSubjectHandler" as Handler
participant ":ISubjectRepository" as IRepo
participant ":SubjectRepository" as Repo
database ":Database" as DB

Admin -> Controller : POST /api/admin/subjects
activate Controller

Controller -> Med : Send(CreateSubjectCommand)
activate Med

Med -> Handler : Handle(command)
activate Handler

Handler -> Handler : Initialize Subject Entity

Handler -> IRepo : AddAsync(Subject)
activate IRepo
IRepo -> Repo : AddAsync(Subject)
activate Repo
Repo -> DB : INSERT INTO subjects...
activate DB
DB --> Repo : Success
deactivate DB
Repo --> IRepo : CreatedEntity
deactivate Repo
IRepo --> Handler : CreatedEntity
deactivate IRepo

Handler --> Med : CreateSubjectResponse
deactivate Handler

Med --> Controller : Response
deactivate Med

Controller --> Admin : 201 Created
deactivate Controller
@enduml