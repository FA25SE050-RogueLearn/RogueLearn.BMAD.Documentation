@startuml
actor Admin
participant AdminManagementUI as UI
participant ":SubjectContentEditor\nController" as Controller
participant ":IMediator" as Med
participant ":GetSubjectContent\nQueryHandler" as Handler
participant ":ISubjectRepository" as IRepo
participant ":SubjectRepository" as Repo
database ":Database" as DB

Admin -> UI : Click "Edit Subject Content"
activate UI

UI -> Controller : GET /api/admin/subjects/{id}/content
activate Controller

Controller -> Med : Send(GetSubjectContentQuery)
activate Med

Med -> Handler : Handle(query)
activate Handler

Handler -> IRepo : GetByIdAsync(SubjectId)
activate IRepo
IRepo -> Repo : GetByIdAsync(SubjectId)
activate Repo
Repo -> DB : SELECT * FROM subjects...
activate DB
DB --> Repo : Subject
deactivate DB
Repo --> IRepo : Subject
deactivate Repo
IRepo --> Handler : Subject
deactivate IRepo

alt Not Found
    Handler --> Med : Throw NotFoundException
else Found
    Handler -> Handler : Serialize Dictionary to JSON
    Handler -> Handler : Deserialize JSON to SyllabusContent DTO
    
    Handler --> Med : SyllabusContent
end

deactivate Handler
Med --> Controller : Response
deactivate Med

Controller --> UI : 200 OK (Content DTO)
deactivate Controller

UI -> UI : Populate Content Editor
UI --> Admin : Display Content Editor
deactivate UI
@enduml